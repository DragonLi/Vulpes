(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;$.Define($$,{MnistClassification:{Web:{Client:{LoadMnist:function(p){return b.Start(b.Delay(function(){return b.Bind(c.Async("MnistClassification.Web:0",[]),function(r){return b.Return(p(r));});}));},MnistControls:function(){var s,t,u,v,w,x,y,z;s=e.Div(f.ofArray([e.Text("")]));t=e.Div(f.ofArray([e.Text("")]));u=e.Input(f.ofArray([e.Attr().NewAttr("type","number"),e.Attr().NewAttr("value","0.9"),e.Attr().NewAttr("min","0.0"),e.Attr().NewAttr("max","1.0"),e.Attr().NewAttr("step","0.01")]));v=e.Input(f.ofArray([e.Attr().NewAttr("type","number"),e.Attr().NewAttr("value","0.1"),e.Attr().NewAttr("min","0.0"),e.Attr().NewAttr("max","1.0"),e.Attr().NewAttr("step","0.01")]));w=e.Input(f.ofArray([e.Attr().NewAttr("type","number"),e.Attr().NewAttr("value","100")]));x=e.Input(f.ofArray([e.Attr().NewAttr("type","number"),e.Attr().NewAttr("value","10"),e.Attr().NewAttr("min","1"),e.Attr().NewAttr("max","50")]));y=e.Button(f.ofArray([e.Text("Train MNIST Dataset")]));z=function(){return function(){s.set_Text("Fetching training set.");return i.LoadMnist(function(C){s.set_Text(C+" Starting unsupervised training.");return i.TrainMnistUnsupervised(function(D){return s.set_Text(D);});});};};j.Events().OnClick(z,y);return e.Div(f.ofArray([e.Div(f.ofArray([e.Span(f.ofArray([e.Text("Learning Rate")])),e.Span(f.ofArray([u]))])),e.Div(f.ofArray([e.Span(f.ofArray([e.Text("Momentum")])),e.Span(f.ofArray([v]))])),e.Div(f.ofArray([e.Span(f.ofArray([e.Text("Batch Size")])),e.Span(f.ofArray([w]))])),e.Div(f.ofArray([e.Span(f.ofArray([e.Text("Number of Epochs")])),e.Span(f.ofArray([x]))])),y,s,t]));},TrainMnistUnsupervised:function(E){return b.Start(b.Delay(function(){return b.Bind(c.Async("MnistClassification.Web:1",[f.ofArray([500,300,150,60,10]),0.899999976158142,0.200000002980232,100,10]),function(G){return b.Return(E(G));});}));},TrainingSet:function(){var H,I,J,K;H={Top:10,Right:10,Bottom:100,Left:40};I=800-H.Left-H.Right;J=500-H.Top-H.Bottom;K=function(L){return function(M){return function(N){return function(O){var P,Q,R,S;P=k.Tags();Q=$.New(l,{$:0});R=P.NewTag("canvas",Q);S=R.Body;if(m.Equals(S.getContext,undefined)){n.initElement(S);}S.height=N;S.width=M;L(S.getContext("2d"));return o.add(e.Div(f.ofArray([e.Attr().NewAttr("style","float: left")])),f.ofArray([R,o.add(e.P(f.ofArray([e.Align("center")])),f.ofArray([e.I(f.ofArray([e.Text("Example "+O)]))]))]));};};};};return e.Div($.New(l,{$:0}));}},Controls:{EntryPoint:$.Class({get_Body:function(){return i.MnistControls();}})}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Concurrency);c=$.Safe(a.Remoting);d=$.Safe(a.Html);e=$.Safe(d.Default);f=$.Safe(a.List);g=$.Safe($$.MnistClassification);h=$.Safe(g.Web);i=$.Safe(h.Client);j=$.Safe(d.EventsPervasives);k=$.Safe(e.HTML5);l=$.Safe(f.T);m=$.Safe(a.Unchecked);n=$.Safe($$.G_vmlCanvasManager);return o=$.Safe(d.Operators);});$.OnLoad(function(){return;});}());
