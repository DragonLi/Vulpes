(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;$.Define($$,{IntelliFactory:{WebSharper:{Control:{Disposable:{Of:function(u){return{Dispose:u};}},Event:{Event:$.Class({AddHandler:function(v){return this.Handlers.push(v);},RemoveHandler:function(w){var x;x=b.ofArray(c.choose(function(y){return y;},c.mapi(function(z){return function(A){return d.Equals(A,w)?{$:1,$0:z}:{$:0};};},this.Handlers)));return x.$==1?this.Handlers.splice(x.$0,1):null;},Subscribe:function(B){var C,F=this;C=function(D){return B.OnNext(D);};this.AddHandler(C);return f.Of(function(){return F.RemoveHandler(C);});},Trigger:function(G){var H;for(H=0;H<=this.Handlers.length-1;H++){this.Handlers[H].call(null,G);}return;}})},EventModule:{Choose:function(I,J){var K;K=g.New();h.addListener(J,function(L){var M;M=I(L);return M.$==0?null:K.event.Trigger(M.$0);});return K.event;},Filter:function(N,O){var P;P=$.New(j,{Handlers:[]});h.addListener(O,function(Q){return N(Q)?P.Trigger(Q):null;});return P;},Map:function(R,S){var T;T=$.New(j,{Handlers:[]});h.addListener(S,function(U){return T.Trigger(R(U));});return T;},Merge:function(V,W){var X;X=$.New(j,{Handlers:[]});h.addListener(V,function(Y){return X.Trigger(Y);});h.addListener(W,function(Z){return X.Trigger(Z);});return X;},Pairwise:function(_0){var _1,_2;_1={contents:{$:0}};_2=$.New(j,{Handlers:[]});h.addListener(_0,function(_3){var _4,_5;_4=_1.contents;if(_4.$==1){_5=_4.$0;_1.contents={$:1,$0:_3};return _2.Trigger([_5,_3]);}else{_1.contents={$:1,$0:_3};return;}});return _2;},Partition:function(_6,_7){return[k.Filter(_6,_7),k.Filter(function(_8){return!_6(_8);},_7)];},Scan:function(_9,_,ba){var bb;bb={contents:_};return k.Map(function(bc){bb.contents=(_9(bb.contents))(bc);return bb.contents;},ba);},Split:function(bc,bd){return[k.Choose(function(be){var bf;bf=bc(be);return bf.$==0?{$:1,$0:bf.$0}:{$:0};},bd),k.Choose(function(bg){var bh;bh=bc(bg);return bh.$==1?{$:1,$0:bh.$0}:{$:0};},bd)];}},FSharpEvent:$.Class({},{New:function(){var bi;bi=$.New(this,{});bi.event=$.New(j,{Handlers:[]});return bi;}}),HotStream:{HotStream:$.Class({Subscribe:function(bj){if(this.Latest.contents.$==1){bj.OnNext(this.Latest.contents.$0);}return h.subscribeTo(this.Event.event,function(bk){return bj.OnNext(bk);});},Trigger:function(bl){this.Latest.contents={$:1,$0:bl};return this.Event.event.Trigger(bl);}},{New:function(){return $.New(m,{Latest:{contents:{$:0}},Event:g.New()});}})},Observable:{Aggregate:function(bm,bn,bo){return n.New(function(bp){var bq;bq={contents:bn};return h.subscribeTo(bm,function(br){bq.contents=(bo(bq.contents))(br);return bp.OnNext(bq.contents);});});},Choose:function(bs,bt){return n.New(function(bu){return bt.Subscribe(o.New(function(bv){var bw;bw=bs(bv);return bw.$==0?null:bu.OnNext(bw.$0);},function(bx){return bu.OnError(bx);},function(){return bu.OnCompleted();}));});},CombineLatest:function(bz,bA,bB){return n.New(function(bC){var bD,bE,bF,bJ,bN,bR,bS;bD={contents:{$:0}};bE={contents:{$:0}};bF=function(){var bH,bI;bH=[bD.contents,bE.contents];if(bH[0].$==1){if(bH[1].$==1){bI=bH[1].$0;return bC.OnNext((bB(bH[0].$0))(bI));}else{return null;}}else{return null;}};bJ=o.New(function(bK){bD.contents={$:1,$0:bK};return bF(null);},function(){},function(){});bN=o.New(function(bO){bE.contents={$:1,$0:bO};return bF(null);},function(){},function(){});bR=bz.Subscribe(bJ);bS=bA.Subscribe(bN);return f.Of(function(){bR.Dispose();return bS.Dispose();});});},Concat:function(bU,bV){return n.New(function(bW){var bX,bY;bX={contents:{$:0}};bY=bU.Subscribe(o.New(function(bZ){return bW.OnNext(bZ);},function(){},function(){bX.contents={$:1,$0:bV.Subscribe(bW)};}));return f.Of(function(){if(bX.contents.$==1){bX.contents.$0.Dispose();}return bY.Dispose();});});},Drop:function(b3,b4){return n.New(function(b5){var b6;b6={contents:0};return b4.Subscribe(o.New(function(b7){p.Increment(b6);return b6.contents>b3?b5.OnNext(b7):null;},function(b8){return b5.OnError(b8);},function(){return b5.OnCompleted();}));});},Filter:function(b_,b$){return n.New(function(ca){return b$.Subscribe(o.New(function(cb){return b_(cb)?ca.OnNext(cb):null;},function(cc){return ca.OnError(cc);},function(){return ca.OnCompleted();}));});},Map:function(ce,cf){return n.New(function(cg){return cf.Subscribe(o.New(function(ch){return cg.OnNext(ce(ch));},function(ci){return cg.OnError(ci);},function(){return cg.OnCompleted();}));});},Merge:function(ck,cl){return n.New(function(cm){var cn,co,cp,ct;cn={contents:false};co={contents:false};cp=ck.Subscribe(o.New(function(cq){return cm.OnNext(cq);},function(){},function(){cn.contents=true;return(cn.contents?co.contents:false)?cm.OnCompleted():null;}));ct=cl.Subscribe(o.New(function(cu){return cm.OnNext(cu);},function(){},function(){co.contents=true;return(cn.contents?co.contents:false)?cm.OnCompleted():null;}));return f.Of(function(){cp.Dispose();return ct.Dispose();});});},Never:function(){return n.New(function(){return f.Of(function(){});});},New:function(cA){return $.New(q,{Subscribe1:cA});},Observable:$.Class({Subscribe:function(cB){return this.Subscribe1.call(null,cB);}}),Of:function(cC){return n.New(function(cD){return f.Of(cC(function(cE){return cD.OnNext(cE);}));});},Range:function(cF,cG){return n.New(function(cH){var cI;for(cI=cF;cI<=cF+cG;cI++){cH.OnNext(cI);}return f.Of(function(){});});},Return:function(cK){return n.New(function(cL){cL.OnNext(cK);cL.OnCompleted();return f.Of(function(){});});},SelectMany:function(cN){return n.New(function(cO){var cP,cR;cP={contents:function(){}};cR=h.subscribeTo(cN,function(cS){var cT;cT=h.subscribeTo(cS,function(cU){return cO.OnNext(cU);});cP.contents=function(){cP.contents.call(null,null);return cT.Dispose();};return;});return f.Of(function(){cP.contents.call(null,null);return cR.Dispose();});});},Sequence:function(cX){var cY;cY=function(cZ){return cZ.$==1?n.CombineLatest(cZ.$0,cY(cZ.$1),function(c0){return function(c1){return $.New(r,{$:1,$0:c0,$1:c1});};}):n.Return($.New(r,{$:0}));};return cY(b.ofSeq(cX));},Switch:function(c2){return n.New(function(c3){var c4,c5;c4={contents:0};c5={contents:{$:0}};return h.subscribeTo(c2,function(c6){var c7;p.Increment(c4);if(c5.contents.$==1){c5.contents.$0.Dispose();}c7=c4.contents;c5.contents={$:1,$0:h.subscribeTo(c6,function(c8){return c7===c4.contents?c3.OnNext(c8):null;})};return;});});}},ObservableModule:{Pairwise:function(c9){var c_,c$,dd;c_=[{$:0},{$:0}];c$=$.Tupled(function(da){var db;db=da[1];return function(dc){return[db,{$:1,$0:dc}];};});dd=(($.Tupled(function(de){return function(df){return s.Scan(c$,de,df);};}))(c_))(c9);return n.Choose($.Tupled(function(dg){return dg[0].$==1?dg[1].$==1?{$:1,$0:[dg[0].$0,dg[1].$0]}:{$:0}:{$:0};}),dd);},Partition:function(dh,di){return[n.Filter(dh,di),n.Filter(function(dj){return!dh(dj);},di)];},Scan:function(dk,dl,dm){var dn;dn={contents:dl};return n.Map(function(_do){dn.contents=(dk(dn.contents))(_do);return dn.contents;},dm);},Split:function(dp,dq){var dr;dr=function(ds){var dt;dt=dp(ds);return dt.$==1?{$:1,$0:dt.$0}:{$:0};};return[n.Choose(function(du){var dv;dv=dp(du);return dv.$==0?{$:1,$0:dv.$0}:{$:0};},dq),n.Choose(dr,dq)];}},Observer:{New:function(dw,dx,dy){return $.New(t,{onNext:dw,onError:dx,onCompleted:dy});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(dz){return this.onError.call(null,dz);},OnNext:function(dA){return this.onNext.call(null,dA);}}),Of:function(dB){return $.New(t,{onNext:dB,onError:function(dC){return p.Raise(dC);},onCompleted:function(){return null;}});}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.List);c=$.Safe(a.Arrays);d=$.Safe(a.Unchecked);e=$.Safe(a.Control);f=$.Safe(e.Disposable);g=$.Safe(e.FSharpEvent);h=$.Safe(a.Util);i=$.Safe(e.Event);j=$.Safe(i.Event);k=$.Safe(e.EventModule);l=$.Safe(e.HotStream);m=$.Safe(l.HotStream);n=$.Safe(e.Observable);o=$.Safe(e.Observer);p=$.Safe(a.Operators);q=$.Safe(n.Observable);r=$.Safe(b.T);s=$.Safe(e.ObservableModule);return t=$.Safe(o.Observer);});$.OnLoad(function(){return;});}());
