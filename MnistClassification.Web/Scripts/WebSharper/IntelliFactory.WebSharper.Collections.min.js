(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(z,A){return c.Put(function(){return function(C){return C;};},z,A);},Branch:function(D,E,F){return{Node:D,Left:E,Right:F,Height:1+d.Max(E==null?0:E.Height,F==null?0:F.Height),Count:1+(E==null?0:E.Count)+(F==null?0:F.Count)};},Build:function(G,H,I){var J;if(I-H+1<=0){return null;}else{J=(H+I)/2>>0;return c.Branch(G[J],c.Build(G,H,J-1),c.Build(G,J+1,I));}},Contains:function(K,L){return!((c.Lookup(K,L))[0]==null);},Enumerate:function(M,N){var O;O=$.Tupled(function(P){var Q,R;Q=P[0];R=P[1];return Q==null?R.$==1?{$:1,$0:[R.$0[0],[R.$0[1],R.$1]]}:{$:0}:M?O([Q.Right,$.New(g,{$:1,$0:[Q.Node,Q.Left],$1:R})]):O([Q.Left,$.New(g,{$:1,$0:[Q.Node,Q.Right],$1:R})]);});return e.unfold(O,[N,$.New(g,{$:0})]);},Lookup:function(S,T){var U,V,W,X;U=[];V=T;W=true;while(W){if(V==null){W=false;}else{X=d.Compare(S,V.Node);if(X===0){W=false;}else{if(X===1){U.unshift([true,V.Node,V.Left]);V=V.Right;}else{U.unshift([false,V.Node,V.Right]);V=V.Left;}}}}return[V,U];},OfSeq:function(Y){var Z;Z=h.sort(e.toArray(e.distinct(Y)));return c.Build(Z,0,Z.length-1);},Put:function(_0,_1,_2){var _3,_4,_5;_3=c.Lookup(_1,_2);_4=_3[0];_5=_3[1];return _4==null?c.Rebuild(_5,c.Branch(_1,null,null)):c.Rebuild(_5,c.Branch((_0(_4.Node))(_1),_4.Left,_4.Right));},Rebuild:function(_6,_7){var _8,_,ba,bb,bc,bd,be,bf,bg,bh,bi;_8=function(_9){return _9==null?0:_9.Height;};_=_7;for(ba=0;ba<=_6.length-1;ba++){bb=_6[ba];if(bb[0]){bd=bb[1];be=bb[2];if(_8(_)>_8(be)+1){if(_8(_.Left)===_8(_.Right)+1){bf=_.Left;bc=c.Branch(bf.Node,c.Branch(bd,be,bf.Left),c.Branch(_.Node,bf.Right,_.Right));}else{bc=c.Branch(_.Node,c.Branch(bd,be,_.Left),_.Right);}}else{bc=c.Branch(bd,be,_);}}else{bg=bb[1];bh=bb[2];if(_8(_)>_8(bh)+1){if(_8(_.Right)===_8(_.Left)+1){bi=_.Right;bc=c.Branch(bi.Node,c.Branch(_.Node,_.Left,bi.Left),c.Branch(bg,bi.Right,bh));}else{bc=c.Branch(_.Node,_.Left,c.Branch(bg,_.Right,bh));}}else{bc=c.Branch(bg,_,bh);}}_=bc;}return _;},Remove:function(bi,bj){var bk,bl,bm,bn;bk=c.Lookup(bi,bj);bl=bk[0];bm=bk[1];if(bl==null){return bj;}else{if(bl.Right==null){return c.Rebuild(bm,bl.Left);}else{if(bl.Left==null){return c.Rebuild(bm,bl.Right);}else{bn=e.toArray(e.append(c.Enumerate(false,bl.Left),c.Enumerate(false,bl.Right)));return c.Rebuild(bm,c.Build(bn,0,bn.length-1));}}}},TryFind:function(bo,bp){var bq;bq=(c.Lookup(bo,bp))[0];return bq==null?{$:0}:{$:1,$0:bq.Node};}},Dictionary:$.Class({Add:function(br,bs){var bt;bt=this.hash.call(null,br);if(this.data.hasOwnProperty(bt)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bt]={K:br,V:bs};this.count=this.count+1;return;}},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(bu){return this.data.hasOwnProperty(this.hash.call(null,bu));},GetEnumerator:function(){return i.Get(h.map($.Tupled(function(bv){return bv[1];}),j.GetFields(this.data)));},Remove:function(bw){var bx;bx=this.hash.call(null,bw);if(this.data.hasOwnProperty(bx)){j.Delete(this.data,bx);this.count=this.count-1;return true;}else{return false;}},get_Item:function(by){var bz;bz=this.hash.call(null,by);return this.data.hasOwnProperty(bz)?this.data[bz].V:k.notPresent();},set_Item:function(bA,bB){var bC;bC=this.hash.call(null,bA);if(!this.data.hasOwnProperty(bC)){this.count=this.count+1;}this.data[bC]={K:bA,V:bB};return;}},{New:function(bD,bE){return $.New(this,l.New11(bD,function(bF){return function(bG){return bE.Equals(bF,bG);};},function(bH){return bE.GetHashCode(bH);}));},New1:function(bI,bJ){return $.New(this,l.New3(bJ));},New11:function(bK,bL,bM){var bN,bO,bP;bN=$.New(this,{});bN.hash=bM;bN.count=0;bN.data={};bO=i.Get(bK);while(bO.MoveNext()){bP=bO.get_Current();bN.data[bN.hash.call(null,bP.K)]=bP.V;}return bN;},New12:function(){return $.New(this,l.New21());},New2:function(bR){return $.New(this,l.New11(bR,function(bS){return function(bT){return m.Equals(bS,bT);};},function(bU){return m.Hash(bU);}));},New21:function(){return $.New(this,l.New11([],function(bV){return function(bW){return m.Equals(bV,bW);};},function(bX){return m.Hash(bX);}));},New3:function(bY){return $.New(this,l.New11([],function(bZ){return function(b0){return bY.Equals(bZ,b0);};},function(b1){return bY.GetHashCode(b1);}));}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(b2,b3){var b4;b4=this.tree;return n.New1(c.Add($.New(o,{Key:b2,Value:b3}),b4));},CompareTo:function(b5){return e.compareWith(function(b6){return function(b7){return d.Compare(b6,b7);};},this,b5);},ContainsKey:function(b8){var b9;b9=this.tree;return c.Contains($.New(o,{Key:b8,Value:undefined}),b9);},Equals:function(b_){return this.get_Count()===b_.get_Count()?e.forall2(function(b$){return function(ca){return m.Equals(b$,ca);};},this,b_):false;},GetEnumerator:function(){return i.Get(e.map(function(cb){return{K:cb.Key,V:cb.Value};},c.Enumerate(false,this.tree)));},GetHashCode:function(){return m.Hash(e.toArray(this));},Remove:function(cc){var cd;cd=this.tree;return n.New1(c.Remove($.New(o,{Key:cc,Value:undefined}),cd));},TryFind:function(ce){var cf;cf=this.tree;return p.map(function(cg){return cg.Value;},c.TryFind($.New(o,{Key:ce,Value:undefined}),cf));},get_Count:function(){var ch;ch=this.tree;return ch==null?0:ch.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(ci){var cj;cj=this.TryFind(ci);return cj.$==0?d.FailWith("The given key was not present in the dictionary."):cj.$0;},get_Tree:function(){return this.tree;}},{New:function(ck){return $.New(this,n.New1(q.fromSeq(ck)));},New1:function(cl){var cm;cm=$.New(this,{});cm.tree=cl;return cm;}}),FSharpSet:$.Class({Add:function(cn){return r.New1(c.Add(cn,this.tree));},CompareTo:function(co){return e.compareWith(function(cp){return function(cq){return d.Compare(cp,cq);};},this,co);},Contains:function(cr){return c.Contains(cr,this.tree);},Equals:function(cs){return this.get_Count()===cs.get_Count()?e.forall2(function(ct){return function(cu){return m.Equals(ct,cu);};},this,cs):false;},GetEnumerator:function(){return i.Get(c.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+m.Hash(e.toArray(this));},IsProperSubsetOf:function(cv){return this.IsSubsetOf(cv)?this.get_Count()<cv.get_Count():false;},IsProperSupersetOf:function(cw){return this.IsSupersetOf(cw)?this.get_Count()>cw.get_Count():false;},IsSubsetOf:function(cx){return e.forall(function(cy){return cx.Contains(cy);},this);},IsSupersetOf:function(cz){var cB=this;return e.forall(function(cA){return cB.Contains(cA);},cz);},Remove:function(cC){return r.New1(c.Remove(cC,this.tree));},add:function(cD){return r.New1(c.OfSeq(e.append(this,cD)));},get_Count:function(){var cE;cE=this.tree;return cE==null?0:cE.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return e.head(c.Enumerate(true,this.tree));},get_MinimumElement:function(){return e.head(c.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(cF){return s.Filter(function(cG){return!cF.Contains(cG);},this);}},{New:function(cH){return $.New(this,r.New1(t.ofSeq(cH)));},New1:function(cI){var cJ;cJ=$.New(this,{});cJ.tree=cI;return cJ;}}),LinkedList:{EnumeratorProxy:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!m.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(cK){var cL;cL=$.New(this,{});cL.c=cK;return cL;}}),ListProxy:$.Class({AddAfter:function(cM,cN){var cO,cP;cO=cM.n;cP={p:cM,n:cO,v:cN};if(m.Equals(cM.n,null)){this.p=cP;}cM.n=cP;if(!m.Equals(cO,null)){cO.p=cP;}this.c=this.c+1;return cP;},AddBefore:function(cQ,cR){var cS,cT;cS=cQ.p;cT={p:cS,n:cQ,v:cR};if(m.Equals(cQ.p,null)){this.n=cT;}cQ.p=cT;if(!m.Equals(cS,null)){cS.n=cT;}this.c=this.c+1;return cT;},AddFirst:function(cU){var cV;if(this.c===0){cV={p:null,n:null,v:cU};this.n=cV;this.p=this.n;this.c=1;return cV;}else{return this.AddBefore(this.n,cU);}},AddLast:function(cW){var cX;if(this.c===0){cX={p:null,n:null,v:cW};this.n=cX;this.p=this.n;this.c=1;return cX;}else{return this.AddAfter(this.p,cW);}},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(cY){var cZ,c0;cZ=false;c0=this.n;while(!m.Equals(c0,null)?!cZ:false){if(c0.v==cY){cZ=true;}else{c0=c0.n;}}return cZ;},Find:function(c1){var c2;c2=this.n;while(!m.Equals(c2,null)?c2.v!=c1:false){c2=c2.n;}return c2==c1?c2:null;},FindLast:function(c3){var c4;c4=this.p;while(!m.Equals(c4,null)?c4.v!=c3:false){c4=c4.p;}return c4==c3?c4:null;},GetEnumerator:function(){return v.New(this);},Remove:function(c5){var c6,c7;c6=c5.p;c7=c5.n;if(m.Equals(c6,null)){this.n=c7;}else{c6.n=c7;}if(m.Equals(c7,null)){this.p=c6;}else{c7.p=c6;}this.c=this.c-1;return;},Remove1:function(c8){var c9;c9=this.Find(c8);if(m.Equals(c9,null)){return false;}else{this.Remove(c9);return true;}},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,w.New1(e.empty()));},New1:function(c_){var c$,da,db;c$=$.New(this,{});c$.c=0;c$.n=null;c$.p=null;da=i.Get(c_);if(da.MoveNext()){c$.n={p:null,n:null,v:da.get_Current()};c$.p=c$.n;c$.c=1;}while(da.MoveNext()){db={p:c$.p,n:null,v:da.get_Current()};c$.p.n=db;c$.p=db;c$.c=c$.c+1;}return c$;}})},MapModule:{Exists:function(dc,dd){return e.exists(function(de){return(dc(de.K))(de.V);},dd);},Filter:function(df,dg){var dh;dh=e.toArray(e.filter(function(di){return(df(di.Key))(di.Value);},c.Enumerate(false,dg.get_Tree())));return n.New1(c.Build(dh,0,dh.length-1));},FindKey:function(dj,dk){return e.pick(function(dl){return(dj(dl.K))(dl.V)?{$:1,$0:dl.K}:{$:0};},dk);},Fold:function(dm,dn,_do){return e.fold(function(dp){return function(dq){return((dm(dp))(dq.Key))(dq.Value);};},dn,c.Enumerate(false,_do.get_Tree()));},FoldBack:function(dr,ds,dt){return e.fold(function(du){return function(dv){return((dr(dv.Key))(dv.Value))(du);};},dt,c.Enumerate(true,ds.get_Tree()));},ForAll:function(dw,dx){return e.forall(function(dy){return(dw(dy.K))(dy.V);},dx);},Iterate:function(dz,dA){return e.iter(function(dB){return(dz(dB.K))(dB.V);},dA);},Map:function(dC,dD){return n.New1(c.OfSeq(e.map(function(dE){return $.New(o,{Key:dE.Key,Value:(dC(dE.Key))(dE.Value)});},c.Enumerate(false,dD.get_Tree()))));},OfArray:function(dF){return n.New1(c.OfSeq(e.map($.Tupled(function(dG){return $.New(o,{Key:dG[0],Value:dG[1]});}),dF)));},Partition:function(dH,dI){var dJ,dL,dM;dJ=h.partition(function(dK){return(dH(dK.Key))(dK.Value);},e.toArray(c.Enumerate(false,dI.get_Tree())));dL=dJ[1];dM=dJ[0];return[n.New1(c.Build(dM,0,dM.length-1)),n.New1(c.Build(dL,0,dL.length-1))];},Pick:function(dN,dO){return e.pick(function(dP){return(dN(dP.K))(dP.V);},dO);},ToSeq:function(dQ){return e.map(function(dR){return[dR.Key,dR.Value];},c.Enumerate(false,dQ.get_Tree()));},TryFind:function(dS,dT){return dT.TryFind(dS);},TryFindKey:function(dU,dV){return e.tryPick(function(dW){return(dU(dW.K))(dW.V)?{$:1,$0:dW.K}:{$:0};},dV);},TryPick:function(dX,dY){return e.tryPick(function(dZ){return(dX(dZ.K))(dZ.V);},dY);}},MapUtil:{fromSeq:function(d0){var d1;d1=e.toArray(e.delay(function(){return e.collect($.Tupled(function(d3){return[$.New(o,{Key:d3[0],Value:d3[1]})];}),e.distinctBy($.Tupled(function(d4){return d4[0];}),d0));}));h.sortInPlace(d1);return c.Build(d1,0,d1.length-1);}},Pair:$.Class({CompareTo:function(d5){return d.Compare(this.Key,d5.Key);},Equals:function(d6){return m.Equals(this.Key,d6.Key);},GetHashCode:function(){return m.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(d7){return this.arr.push(d7);},AddRange:function(d8){var d_=this;return e.iter(function(d9){return d_.Add(d9);},d8);},Clear:function(){x.splice(this.arr,0,this.arr.length,[]);},CopyTo:function(d$){return this.CopyTo1(d$,0);},CopyTo1:function(ea,eb){return this.CopyTo2(0,ea,eb,this.get_Count());},CopyTo2:function(ec,ed,ee,ef){return h.blit(this.arr,ec,ed,ee,ef);},GetEnumerator:function(){return i.Get(this.arr);},GetRange:function(eg,eh){return y.New3(h.sub(this.arr,eg,eh));},Insert:function(ei,ej){x.splice(this.arr,ei,0,[ej]);},InsertRange:function(ek,el){x.splice(this.arr,ek,0,e.toArray(el));},RemoveAt:function(em){x.splice(this.arr,em,1,[]);},RemoveRange:function(en,eo){x.splice(this.arr,en,eo,[]);},Reverse:function(){return this.arr.reverse();},Reverse1:function(ep,eq){return h.reverse(this.arr,ep,eq);},ToArray:function(){return this.arr.slice();},get_Count:function(){return this.arr.length;},get_Item:function(er){return this.arr[er];},set_Item:function(es,et){this.arr[es]=et;}},{New:function(eu){return $.New(this,y.New3(e.toArray(eu)));},New1:function(){return $.New(this,y.New3([]));},New2:function(){return $.New(this,y.New3([]));},New3:function(ew){var ex;ex=$.New(this,{});ex.arr=ew;return ex;}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(ey,ez){var eA;eA=e.toArray(e.filter(ey,ez));return r.New1(c.Build(eA,0,eA.length-1));},FoldBack:function(eB,eC,eD){return e.fold(function(eE){return function(eF){return(eB(eF))(eE);};},eD,c.Enumerate(true,eC.get_Tree()));},Partition:function(eG,eH){var eI,eJ;eI=h.partition(eG,e.toArray(eH));eJ=eI[1];return[r.New1(c.OfSeq(eI[0])),r.New1(c.OfSeq(eJ))];}},SetUtil:{ofSeq:function(eK){var eL;eL=e.toArray(eK);h.sortInPlace(eL);return c.Build(eL,0,eL.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.Seq);f=$.Safe(a.List);g=$.Safe(f.T);h=$.Safe(a.Arrays);i=$.Safe(a.Enumerator);j=$.Safe(a.JavaScript);k=$.Safe(b.DictionaryUtil);l=$.Safe(b.Dictionary);m=$.Safe(a.Unchecked);n=$.Safe(b.FSharpMap);o=$.Safe(b.Pair);p=$.Safe(a.Option);q=$.Safe(b.MapUtil);r=$.Safe(b.FSharpSet);s=$.Safe(b.SetModule);t=$.Safe(b.SetUtil);u=$.Safe(b.LinkedList);v=$.Safe(u.EnumeratorProxy);w=$.Safe(u.ListProxy);x=$.Safe(b.ResizeArray);return y=$.Safe(x.ResizeArrayProxy);});$.OnLoad(function(){return;});}());
